<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PAWA - HCMC Metro System</title>
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/main.css">
    <!-- Add Font Awesome for better icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="assets/hcmc-metro-logo.png" alt="HCMC Metro" height="40">
            </a>
            <button class="navbar-toggler" id="navbar-toggle">
                <i class="fas fa-bars"></i>
            </button>
            
            <div class="navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="#"><i class="fas fa-home"></i> Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#"><i class="fas fa-subway"></i> Metro Lines</a>
                    </li>
                    <li class="nav-item auth-required d-none">
                        <a class="nav-link" href="#"><i class="fas fa-ticket-alt"></i> My Tickets</a>
                    </li>
                    <li class="nav-item auth-required d-none">
                        <a class="nav-link" href="#"><i class="fas fa-wallet"></i> Wallet</a>
                    </li>
                </ul>
                
                <div class="d-flex">
                    <div class="auth-required d-none">
                        <button id="profile-btn" class="btn btn-light me-2"><i class="fas fa-user"></i> Profile</button>
                        <button id="logout-btn" class="btn btn-outline-light"><i class="fas fa-sign-out-alt"></i> Logout</button>
                    </div>
                    <div class="no-auth">
                        <a href="signin.html" class="btn btn-light me-2"><i class="fas fa-sign-in-alt"></i> Sign In</a>
                        <a href="signup.html" class="btn btn-outline-light"><i class="fas fa-user-plus"></i> Sign Up</a>
                        <a href="#" id="guest-access" class="btn btn-accent"><i class="fas fa-user-circle"></i> Guest Access</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Banner -->
    <div class="hero-banner">
        <div class="container">
            <div class="hero-content">
                <h1>Welcome to HCMC Metro</h1>
                <p class="lead">Your gateway to efficient, modern urban transportation in Ho Chi Minh City</p>
                <div class="hero-buttons">
                    <a href="#" class="btn btn-primary btn-lg"><i class="fas fa-route"></i> Plan Your Journey</a>
                    <a href="#" class="btn btn-secondary btn-lg"><i class="fas fa-ticket-alt"></i> Buy Tickets</a>
                </div>
            </div>
        </div>
    </div>

    <div class="container mt-4 page-transition">
        <!-- Service Status Alert -->
        <div class="service-alert">
            <div class="alert alert-info">
                <i class="fas fa-info-circle"></i> All metro lines are currently operating normally. Have a safe journey!
            </div>
        </div>
        
        <!-- Content for all users -->
        <div class="row section-metro-info">
            <div class="col-md-6">
                <div class="card feature-card">
                    <div class="card-header">
                        <h3><i class="fas fa-subway"></i> Metro Lines</h3>
                    </div>
                    <div class="card-body">
                        <div class="metro-map">
                            <img src="assets/metro-map-placeholder.jpg" alt="HCMC Metro Map" class="img-fluid">
                        </div>
                        
                        <div class="metro-lines-list">
                            <div class="metro-line" data-line="1">
                                <div class="metro-line-header">
                                    <div class="metro-line-color" style="background-color: #E53935;"></div>
                                    <div class="metro-line-name">Line 1: Ben Thanh - Suoi Tien</div>
                                    <div class="metro-line-stations">14 stations</div>
                                    <div class="metro-line-toggle"><i class="fas fa-chevron-down"></i></div>
                                </div>
                                <div class="metro-line-details">
                                    <div class="metro-line-info">
                                        <p><strong>First Train:</strong> 05:30 AM</p>
                                        <p><strong>Last Train:</strong> 10:00 PM</p>
                                        <p><strong>Duration:</strong> 30 mins</p>
                                        <p><strong>Status:</strong> <span class="status-operational">Operational</span></p>
                                    </div>
                                    <div class="metro-stations-list">
                                        <h4>Stations:</h4>
                                        <ul>
                                            <li>Ben Thanh</li>
                                            <li>Opera House</li>
                                            <li>Ba Son</li>
                                            <li>Van Thanh Park</li>
                                            <li>Tan Cang</li>
                                            <li>Thao Dien</li>
                                            <li>An Phu</li>
                                            <li>Rach Chiec</li>
                                            <li>Phuoc Long</li>
                                            <li>Binh Thai</li>
                                            <li>Thu Duc</li>
                                            <li>High Tech Park</li>
                                            <li>Suoi Tien</li>
                                            <li>Suoi Tien Terminal</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="metro-line" data-line="2">
                                <div class="metro-line-header">
                                    <div class="metro-line-color" style="background-color: #2196F3;"></div>
                                    <div class="metro-line-name">Line 2: Thu Thiem - Tay Ninh</div>
                                    <div class="metro-line-stations">10 stations</div>
                                    <div class="metro-line-toggle"><i class="fas fa-chevron-down"></i></div>
                                </div>
                                <div class="metro-line-details">
                                    <div class="metro-line-info">
                                        <p><strong>First Train:</strong> 06:00 AM</p>
                                        <p><strong>Last Train:</strong> 09:30 PM</p>
                                        <p><strong>Duration:</strong> 25 mins</p>
                                        <p><strong>Status:</strong> <span class="status-operational">Operational</span></p>
                                    </div>
                                    <div class="metro-stations-list">
                                        <h4>Stations:</h4>
                                        <ul>
                                            <li>Thu Thiem</li>
                                            <li>An Khanh</li>
                                            <li>Thu Thiem Bridge</li>
                                            <li>Saigon Pearl</li>
                                            <li>Central Park</li>
                                            <li>Ben Thanh</li>
                                            <li>Tao Dan</li>
                                            <li>Dan Chu</li>
                                            <li>Hoa Hung</li>
                                            <li>Tay Ninh</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6">
                <!-- Ticket Information Section -->
                <div class="card feature-card">
                    <div class="card-header">
                        <h3><i class="fas fa-ticket-alt"></i> Ticket Information</h3>
                    </div>
                    <div class="card-body">
                        <div class="ticket-types">
                            <div class="ticket-type">
                                <div class="ticket-icon"><i class="fas fa-arrow-right"></i></div>
                                <div class="ticket-info">
                                    <h4>One-way Ticket</h4>
                                    <div class="price-range">From ₫8,000 - ₫20,000</div>
                                    <p>Valid for a single journey within 24 hours of purchase</p>
                                    <ul class="ticket-features">
                                        <li>₫8,000 for up to 4 stations</li>
                                        <li>₫12,000 for up to 8 stations</li>
                                        <li>₫20,000 for more than 8 stations</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="ticket-type">
                                <div class="ticket-icon"><i class="fas fa-calendar-day"></i></div>
                                <div class="ticket-info">
                                    <h4>Daily Ticket</h4>
                                    <div class="price">₫40,000</div>
                                    <p>Valid for 24 hours after activation</p>
                                    <ul class="ticket-features">
                                        <li>Unlimited travel on all lines</li>
                                        <li>Cost-effective for multiple trips</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="ticket-type">
                                <div class="ticket-icon"><i class="fas fa-calendar-week"></i></div>
                                <div class="ticket-info">
                                    <h4>Three-day Ticket</h4>
                                    <div class="price">₫90,000</div>
                                    <p>Valid for 72 hours after activation</p>
                                    <ul class="ticket-features">
                                        <li>Unlimited travel on all lines</li>
                                        <li>Perfect for short visits</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="ticket-type">
                                <div class="ticket-icon"><i class="fas fa-calendar-alt"></i></div>
                                <div class="ticket-info">
                                    <h4>Monthly Tickets</h4>
                                    <div class="price-range">₫150,000 - ₫300,000</div>
                                    <p>Valid for 30 days after activation</p>
                                    <ul class="ticket-features">
                                        <li>Student: ₫150,000 (valid student ID required)</li>
                                        <li>Adult: ₫300,000</li>
                                        <li>Unlimited travel on all lines</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div class="special-discount-info">
                            <h4>Special Discounts</h4>
                            <p>Free travel is available for:</p>
                            <ul>
                                <li>Children aged 6 and below</li>
                                <li>Elderly passengers aged 60 and above</li>
                                <li>People with disabilities</li>
                                <li>People with revolutionary contribution status</li>
                            </ul>
                        </div>
                        
                        <div class="ticket-actions text-center mt-4">
                            <a href="#" class="btn btn-primary btn-lg buy-ticket-btn"><i class="fas fa-shopping-cart"></i> Purchase Tickets</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Content only for logged in users -->
        <div class="auth-required d-none">
            <div class="row">
                <div class="col-md-8">
                    <div class="card dashboard-card">
                        <div class="card-header d-flex justify-content-between align-items-center">
                            <h3><i class="fas fa-ticket-alt"></i> My Tickets</h3>
                            <a href="#" class="btn btn-light">View All</a>
                        </div>
                        <div class="card-body">
                            <div class="tickets-list">
                                <div class="ticket">
                                    <div class="ticket-header">
                                        <div class="ticket-type">Daily Ticket</div>
                                        <div class="ticket-status status-active">Active</div>
                                    </div>
                                    <div class="ticket-details">
                                        <div><strong>Purchased:</strong> April 26, 2025</div>
                                        <div><strong>Expires:</strong> April 27, 2025 at 14:30</div>
                                        <div><strong>Valid for:</strong> All metro lines</div>
                                    </div>
                                    <div class="ticket-actions">
                                        <button class="btn btn-sm btn-outline-primary"><i class="fas fa-qrcode"></i> Show QR Code</button>
                                    </div>
                                </div>
                                
                                <div class="ticket">
                                    <div class="ticket-header">
                                        <div class="ticket-type">Monthly Ticket</div>
                                        <div class="ticket-status status-inactive">Inactive</div>
                                    </div>
                                    <div class="ticket-details">
                                        <div><strong>Purchased:</strong> April 25, 2025</div>
                                        <div><strong>Valid for:</strong> All metro lines</div>
                                    </div>
                                    <div class="ticket-actions">
                                        <button class="btn btn-sm btn-primary"><i class="fas fa-play-circle"></i> Activate Ticket</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card dashboard-card">
                        <div class="card-header">
                            <h3><i class="fas fa-history"></i> Recent Activity</h3>
                        </div>
                        <div class="card-body">
                            <div class="activity-list">
                                <div class="activity-item">
                                    <div class="activity-icon"><i class="fas fa-ticket-alt"></i></div>
                                    <div class="activity-details">
                                        <div class="activity-title">Purchased Daily Ticket</div>
                                        <div class="activity-time">April 26, 2025 at 14:30</div>
                                        <div class="activity-price">₫40,000</div>
                                    </div>
                                </div>
                                
                                <div class="activity-item">
                                    <div class="activity-icon"><i class="fas fa-wallet"></i></div>
                                    <div class="activity-details">
                                        <div class="activity-title">Wallet Top-up</div>
                                        <div class="activity-time">April 25, 2025 at 10:15</div>
                                        <div class="activity-price">+₫200,000</div>
                                    </div>
                                </div>
                                
                                <div class="activity-item">
                                    <div class="activity-icon"><i class="fas fa-subway"></i></div>
                                    <div class="activity-details">
                                        <div class="activity-title">Used One-way Ticket</div>
                                        <div class="activity-time">April 24, 2025 at 08:45</div>
                                        <div class="activity-route">Ben Thanh → Suoi Tien</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="wallet-card">
                        <div class="wallet-icon"><i class="fas fa-wallet"></i></div>
                        <h3>Wallet Balance</h3>
                        <div class="wallet-balance">₫200,000</div>
                        <div class="wallet-actions">
                            <button class="wallet-btn"><i class="fas fa-plus-circle"></i> Top Up</button>
                            <button class="wallet-btn"><i class="fas fa-history"></i> History</button>
                        </div>
                    </div>
                    
                    <div class="card quick-access-card">
                        <div class="card-header">
                            <h3><i class="fas fa-bolt"></i> Quick Access</h3>
                        </div>
                        <div class="card-body">
                            <div class="quick-action-buttons">
                                <a href="#" class="btn btn-primary btn-block"><i class="fas fa-shopping-cart"></i> Buy New Ticket</a>
                                <a href="#" class="btn btn-secondary btn-block"><i class="fas fa-play-circle"></i> Activate Ticket</a>
                                <a href="#" class="btn btn-light btn-block"><i class="fas fa-route"></i> Plan Journey</a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card upcoming-trips-card">
                        <div class="card-header">
                            <h3><i class="fas fa-calendar-alt"></i> Next Departures</h3>
                        </div>
                        <div class="card-body">
                            <div class="next-departures">
                                <div class="departure">
                                    <div class="departure-line" style="background-color: #E53935;"></div>
                                    <div class="departure-details">
                                        <div class="departure-route">Ben Thanh → Suoi Tien</div>
                                        <div class="departure-time">Next: 5 min</div>
                                    </div>
                                </div>
                                
                                <div class="departure">
                                    <div class="departure-line" style="background-color: #2196F3;"></div>
                                    <div class="departure-details">
                                        <div class="departure-route">Thu Thiem → Tay Ninh</div>
                                        <div class="departure-time">Next: 8 min</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h4>HCMC Metro</h4>
                    <p>Your gateway to efficient, modern urban transportation in Ho Chi Minh City.</p>
                    <div class="social-links">
                        <a href="#" class="social-link"><i class="fab fa-facebook"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <h4>Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="#">Metro Lines</a></li>
                        <li><a href="#">Ticket Information</a></li>
                        <li><a href="#">Schedules</a></li>
                        <li><a href="#">Service Updates</a></li>
                        <li><a href="#">Help & Support</a></li>
                    </ul>
                </div>
                
                <div class="col-md-4">
                    <h4>Contact</h4>
                    <address>
                        <p><i class="fas fa-map-marker-alt"></i> 123 Nguyen Hue Boulevard,<br>District 1, Ho Chi Minh City</p>
                        <p><i class="fas fa-phone"></i> Customer Service: (028) 1234-5678</p>
                        <p><i class="fas fa-envelope"></i> info@hcmcmetro.vn</p>
                    </address>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 HCMC Metro. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript for functionality -->
    <script src="js/auth-utils.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Add page loaded class for animations
            setTimeout(() => {
                document.querySelector('.page-transition').classList.add('page-loaded');
            }, 100);
            
            // Navbar toggle functionality
            const navbarToggle = document.getElementById('navbar-toggle');
            const navbarCollapse = document.getElementById('navbarNav');
            
            if (navbarToggle) {
                navbarToggle.addEventListener('click', function() {
                    navbarCollapse.classList.toggle('show');
                });
            }
            
            // Metro line expand/collapse functionality
            const metroLines = document.querySelectorAll('.metro-line');
            metroLines.forEach(line => {
                line.addEventListener('click', function() {
                    this.classList.toggle('expanded');
                    
                    // Change the chevron direction
                    const chevron = this.querySelector('.metro-line-toggle i');
                    if (this.classList.contains('expanded')) {
                        chevron.classList.remove('fa-chevron-down');
                        chevron.classList.add('fa-chevron-up');
                    } else {
                        chevron.classList.remove('fa-chevron-up');
                        chevron.classList.add('fa-chevron-down');
                    }
                });
            });
            
            // Guest access functionality
            const guestAccessBtn = document.getElementById('guest-access');
            if (guestAccessBtn) {
                guestAccessBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    // Store a flag in sessionStorage to indicate guest access
                    sessionStorage.setItem('guestAccess', 'true');
                    
                    // Update UI for guest access
                    document.querySelectorAll('.no-auth').forEach(el => el.classList.add('d-none'));
                    
                    // Show a welcome message for guests
                    const container = document.querySelector('.container');
                    const welcomeAlert = document.createElement('div');
                    welcomeAlert.className = 'alert alert-success mb-4';
                    welcomeAlert.innerHTML = '<i class="fas fa-info-circle"></i> You are browsing as a guest. You can view metro lines and buy tickets. <a href="signin.html" class="alert-link">Sign in</a> for full access to all features.';
                    container.insertBefore(welcomeAlert, container.firstChild);
                    
                    // Hide auth-required elements but show metro lines and ticket info
                    document.querySelectorAll('.auth-required').forEach(el => el.classList.add('d-none'));
                    
                    // Highlight available sections for guests
                    document.querySelectorAll('.section-metro-info').forEach(el => {
                        el.classList.add('highlight-section');
                    });
                });
            }
            
            // Check if user is in guest mode
            if (sessionStorage.getItem('guestAccess') === 'true') {
                document.querySelectorAll('.no-auth').forEach(el => el.classList.add('d-none'));
                document.querySelectorAll('.auth-required').forEach(el => el.classList.add('d-none'));
                
                // Show guest welcome message if not already present
                if (!document.querySelector('.alert-success')) {
                    const container = document.querySelector('.container');
                    const welcomeAlert = document.createElement('div');
                    welcomeAlert.className = 'alert alert-success mb-4';
                    welcomeAlert.innerHTML = '<i class="fas fa-info-circle"></i> You are browsing as a guest. You can view metro lines and buy tickets. <a href="signin.html" class="alert-link">Sign in</a> for full access to all features.';
                    container.insertBefore(welcomeAlert, container.firstChild);
                }
                
                // Highlight available sections for guests
                document.querySelectorAll('.section-metro-info').forEach(el => {
                    el.classList.add('highlight-section');
                });
            }
        });
    </script>
</body>
</html>